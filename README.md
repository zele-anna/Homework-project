# Виджет банковских операций клиента
## Цель проекта
Разработка виджета для отображения банковских операций клиента по различным параметрам
##Инструкция по установке и использованию

### Установка
*раздел в разработке*

### Использование функций и примеры работы
Виджет содержит функции для следующих операций:
1. Максировка номера карты или счета.
Функция разработана в модуле widget с использованием импортируемых функций из модуля masks. 
Принимает строковое значение с типом карты или счета и номером и возвращает их в замаскированном виде.
Примеры ввода и вывода:
* Maestro 1596837868705199 -> Maestro 1596 83** **** 5199 
* Счет 64686473678894779589 -> Счет **9589
* MasterCard 7158300734726758 -> MasterCard 7158 30** **** 6758
* Visa Platinum 8990922113665229 -> Visa Platinum 8990 92** **** 5229 
2. Функция фильтрации данных об id по статусу id.
Принимает список словарей с информацией об id и (опционально) статус 
и возвращает информацию об id по искомому статусу (по умолчанию - "EXECUTED").

Пример ввода:
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'},
{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'},
{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]

Пример вывода:
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'},
{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]
3. Функция сортировки данных об id по дате id.
Принимает список словарей с информацией об id и (опционально) порядок сортировки
и возвращает тот же список отсортированным (по умолчанию - по убыванию).

Пример ввода:
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'},
{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'},
{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]

Пример вывода:
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, 
{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'},
{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'},
{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

4. Функция фильтрации списка транзакций по заданной валюте: принимает на вход список словарей с информацией о 
транзакциях и возвращает итератор с информацией о тех транзакциях, которые проводились в указанной валюте.

5. Функция-генератор, которая принимает на вход список словарей с данными о транзакциях и поочередно возвращает описание
транзакций.

6. Генератор номеров карт - принимает диапазон чисел, в котором генерирует номера карт в формате ХХХХ ХХХХ ХХХХ ХХХХ.

7. Декоратор log - проверяет работу функции и записывает лог с результатами в файл, имя которого опционально 
задается в параметрах декоратора, либо выводит лог в консоль, если наименование файла не задано.

### Тестирование
* В модуле [test_masks.py](tests/test_masks.py) содержатся тесты для функций модуля masks, 
в том числе тесты на корректный ввод номера карты/счета. 
* В модуле [test_widget.py](tests/test_widget.py) содержатся тесты для функций модуля widget, 
в том числе параметризированные тесты на проверку ввода различных типов карт и некорректный ввод данных.
* В модуле [test_processing.py](tests/test_processing.py) содержатся тесты для функций модуля processing, 
в том числе тесты на различные варианты фильтрации и сортировки, отсутствие данных для фильтрации, 
а также ввод дат в различных форматах.
* В модуле [test_generators.py](tests/test_generators.py) содержатся тесты функций модуля generators, в том числе функций
отбора транзакций по валюте и получения описаний по транзакциям с обработкой ошибок при получении на вход пустого 
списка, а также тесты функции-генератора номеров карт. 
* В модуле [test_decorators.py](tests/test_decorators.py) содержатся тесты работы декоратора log при успешном выполнении
функции, а также при завершении с различными ошибками.